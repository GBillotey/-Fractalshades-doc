<!== Adding "Fork me on Github" ribbon ==>
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fractalshades.gui.guitemplates &mdash; Fractalshades 1.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/rtd_dark.css?v=e3debd14" />
      <link rel="stylesheet" type="text/css" href="../../../_static/math.css?v=7fc59cab" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=58fbf978"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link href="../../../_static/ribbon.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Fractalshades
              <img src="../../../_static/logo3.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.1.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#installing">Installing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started.html#installing-gmp-mpfr-mpc-windows-users">Installing GMP / MPFR / MPC: Windows users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started.html#installing-gmp-mpfr-mpc-unix-linux-users">Installing GMP / MPFR / MPC: Unix / Linux users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started.html#installing-gmp-mpfr-mpc-mac-users">Installing GMP / MPFR / MPC: Mac users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#a-5-minutes-guide-to-fractalshades">A 5-minutes guide to fractalshades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#graphical-user-interface">Graphical user interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#finding-areas-of-interest">Finding areas of interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#unskewing-streched-areas">Unskewing streched areas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../math.html">Mathematical background</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#zoom-level-and-native-floating-point-precision">Zoom level and native floating-point precision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#perturbation-theory">Perturbation Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#avoiding-loss-of-precision">Avoiding loss of precision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#billinear-approximations">Billinear approximations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#extended-range-floating-points">Extended range floating points</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#finding-minibrots">Finding minibrots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../math.html#going-further-a-few-references">Going further: a few references</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Gallery</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/index.html#batch-mode-gallery">Batch mode gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/index.html#colormaps-template-gallery">Colormaps template gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/index.html#gui-mode-arbitrary-precision-implementations">GUI-mode: arbitrary precision implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/index.html#gui-mode-standard-implementation-examples">GUI-mode: standard implementation examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/index.html#lighting-examples-gallery">Lighting examples gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/index.html#projections">Projections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/batch_mode/index.html">Batch mode gallery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/01-full_basic.html">01 - Full Mandelbrot basic example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/02-bulb_fieldlines1.html">02 - Bulb fieldlines example “tint_or_shade”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/03-bulb_fieldlines2.html">03 - Bulb fieldlines example “twinfield”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/04-seahorse_shaded.html">04 - Seahorse shaded example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/05-seahorse_shaded_colored.html">05 - Seahorse shaded and colored example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/06-seahorse_interior.html">06 - Seahorse interior example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/07-seahorse_DEM.html">07 - Seahorse DEM example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/08-run_perturb_DEM.html">08 - DEM example with perturbation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/09-run_flake_DEM.html">09 - A deeper DEM example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/10-double_embedded_julia.html">10 - Double embedded Julia set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/11-run_perturbdeep.html">11- Ultra-deep embedded Julia set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/12-burning_ship_deep.html">12 - Burning Ship deep zoom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/13-burning_ship.html">13 - Burning ship DEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/14-burning_ship-deeper_DEM.html">14 - Burning ship deeper DEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/15-burning_ship-deepJulia_DEM.html">15 - Burning Ship ultra-deep embedded Julia set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/16-tetration_spring.html">16 - Tetration (power tower) zoom: “Spring”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/17-perpendicular_burning_ship_DEM.html">17 - “Perpendicular” Burning Ship</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/18-perpendicular_burning_ship_glynn.html">18 - “Perpendicular” Burning Ship: hidden Glynn spiral</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/19-perpendicular_burning_ship_Koch.html">19 - “Perpendicular” Burning Ship: hidden Koch snowflakes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/20-perpendicular_burning_ship_Sierpinski.html">20 - “Perpendicular” Burning Ship: hidden Sierpinski carpets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/21-perpendicular_burning_ship_trees.html">21 - “Perpendicular” Burning Ship: tree structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/22-shark_fin_deep.html">22 - “Shark Fin” escape-time fractal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/batch_mode/23-deep_min.html">23 - A deep mini</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/colormaps/index.html">Colormaps template gallery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/colormaps/plot_cmaps.html">Colormaps: available templates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/interactive_deepzoom/index.html">GUI-mode: arbitrary precision implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_deepzoom/D01_run_interactive.html">D01 - Mandelbrot arbitrary-precision explorer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_deepzoom/D02_run_BS_interactive.html">D02 - Burning Ship arbitrary-precision explorer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_deepzoom/D03_run_interactive_Mn.html">D03 - Mandelbrot arbitrary-precision explorer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/interactive_standard/index.html">GUI-mode: standard implementation examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_standard/S01_run_interactive_shallow.html">S01 - Mandelbrot explorer - Standard precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_standard/S02_run_BS_shallow.html">S02 - Burning ship explorer - Standard precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_standard/S03_run_interactive_Mn_shallow.html">S03 - Mandelbrot power n explorer - Standard precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_standard/S04_run_collatz.html">S04 - Collatz explorer - Standard precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/interactive_standard/S05_run_power_tower_shallow.html">S05 - Tetration fractal explorer - Standard precision</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/lighting/index.html">Lighting examples gallery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/lighting/plot_lighting.html">Ligthings: available effects</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/projections/index.html">Projections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/projections/P01-feigenbaum_expmap.html">P01 - Exponential mapping: Feigenbaum point</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/projections/P02-inversion.html">P02 - Inversion of the Mandelbrot set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/projections/P03-Elephant_valley_moebius.html">P03 - Moebius mapping: Elephant and Seahorse valleys</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../examples/projections/P04-deep_expmap.html">P04 - Exponential mapping for deep zoom</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../API.html">Application Programming Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../API/settings.html">Application-level settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.enable_multithreading"><code class="docutils literal notranslate"><span class="pre">enable_multithreading</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.skip_calc"><code class="docutils literal notranslate"><span class="pre">skip_calc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.newton_zoom_level"><code class="docutils literal notranslate"><span class="pre">newton_zoom_level</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.no_newton"><code class="docutils literal notranslate"><span class="pre">no_newton</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.inspect_calc"><code class="docutils literal notranslate"><span class="pre">inspect_calc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.chunk_size"><code class="docutils literal notranslate"><span class="pre">chunk_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.verbosity"><code class="docutils literal notranslate"><span class="pre">verbosity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.postproc_dtype"><code class="docutils literal notranslate"><span class="pre">postproc_dtype</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.log_directory"><code class="docutils literal notranslate"><span class="pre">log_directory</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.disable_decompression_size_check"><code class="docutils literal notranslate"><span class="pre">disable_decompression_size_check()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.BLA_compression"><code class="docutils literal notranslate"><span class="pre">BLA_compression</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/settings.html#fractalshades.settings.GUI_image_Mblimit"><code class="docutils literal notranslate"><span class="pre">GUI_image_Mblimit</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/core.html">Core components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal"><code class="docutils literal notranslate"><span class="pre">Fractal</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal.__init__"><code class="docutils literal notranslate"><span class="pre">Fractal.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal.clean_up"><code class="docutils literal notranslate"><span class="pre">Fractal.clean_up()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal.zoom"><code class="docutils literal notranslate"><span class="pre">Fractal.zoom()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/core.html#fractalshades.PerturbationFractal"><code class="docutils literal notranslate"><span class="pre">PerturbationFractal</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.PerturbationFractal.__init__"><code class="docutils literal notranslate"><span class="pre">PerturbationFractal.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.PerturbationFractal.zoom"><code class="docutils literal notranslate"><span class="pre">PerturbationFractal.zoom()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal_plotter"><code class="docutils literal notranslate"><span class="pre">Fractal_plotter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal_plotter.__init__"><code class="docutils literal notranslate"><span class="pre">Fractal_plotter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal_plotter.add_layer"><code class="docutils literal notranslate"><span class="pre">Fractal_plotter.add_layer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal_plotter.plot"><code class="docutils literal notranslate"><span class="pre">Fractal_plotter.plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/core.html#fractalshades.Fractal_plotter.save_db"><code class="docutils literal notranslate"><span class="pre">Fractal_plotter.save_db()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/core.html#fractalshades.zoom_options"><code class="docutils literal notranslate"><span class="pre">zoom_options()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/core.html#fractalshades.calc_options"><code class="docutils literal notranslate"><span class="pre">calc_options()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/core.html#fractalshades.interactive_options"><code class="docutils literal notranslate"><span class="pre">interactive_options()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/projection.html">Projections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Projection"><code class="docutils literal notranslate"><span class="pre">Projection</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Projection.__init__"><code class="docutils literal notranslate"><span class="pre">Projection.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Cartesian"><code class="docutils literal notranslate"><span class="pre">Cartesian</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Cartesian.__init__"><code class="docutils literal notranslate"><span class="pre">Cartesian.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Expmap"><code class="docutils literal notranslate"><span class="pre">Expmap</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Expmap.__init__"><code class="docutils literal notranslate"><span class="pre">Expmap.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Generic_mapping"><code class="docutils literal notranslate"><span class="pre">Generic_mapping</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/projection.html#fractalshades.projection.Generic_mapping.__init__"><code class="docutils literal notranslate"><span class="pre">Generic_mapping.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/arbitrary_models.html">Fractal models: Arbitrary-precision implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_mandelbrot"><code class="docutils literal notranslate"><span class="pre">Perturbation_mandelbrot</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_mandelbrot.__init__"><code class="docutils literal notranslate"><span class="pre">Perturbation_mandelbrot.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_mandelbrot.calc_std_div"><code class="docutils literal notranslate"><span class="pre">Perturbation_mandelbrot.calc_std_div()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_mandelbrot_N"><code class="docutils literal notranslate"><span class="pre">Perturbation_mandelbrot_N</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_mandelbrot_N.__init__"><code class="docutils literal notranslate"><span class="pre">Perturbation_mandelbrot_N.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_mandelbrot_N.calc_std_div"><code class="docutils literal notranslate"><span class="pre">Perturbation_mandelbrot_N.calc_std_div()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_burning_ship"><code class="docutils literal notranslate"><span class="pre">Perturbation_burning_ship</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_burning_ship.__init__"><code class="docutils literal notranslate"><span class="pre">Perturbation_burning_ship.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/arbitrary_models.html#fractalshades.models.Perturbation_burning_ship.calc_std_div"><code class="docutils literal notranslate"><span class="pre">Perturbation_burning_ship.calc_std_div()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/standard_models.html">Fractal models: Standard-precision implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot"><code class="docutils literal notranslate"><span class="pre">Mandelbrot</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot.__init__"><code class="docutils literal notranslate"><span class="pre">Mandelbrot.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot.calc_std_div"><code class="docutils literal notranslate"><span class="pre">Mandelbrot.calc_std_div()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot.newton_calc"><code class="docutils literal notranslate"><span class="pre">Mandelbrot.newton_calc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot_N"><code class="docutils literal notranslate"><span class="pre">Mandelbrot_N</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot_N.__init__"><code class="docutils literal notranslate"><span class="pre">Mandelbrot_N.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot_N.calc_std_div"><code class="docutils literal notranslate"><span class="pre">Mandelbrot_N.calc_std_div()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Mandelbrot_N.newton_calc"><code class="docutils literal notranslate"><span class="pre">Mandelbrot_N.newton_calc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Burning_ship"><code class="docutils literal notranslate"><span class="pre">Burning_ship</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Burning_ship.__init__"><code class="docutils literal notranslate"><span class="pre">Burning_ship.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Burning_ship.calc_std_div"><code class="docutils literal notranslate"><span class="pre">Burning_ship.calc_std_div()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Power_tower"><code class="docutils literal notranslate"><span class="pre">Power_tower</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Power_tower.__init__"><code class="docutils literal notranslate"><span class="pre">Power_tower.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Power_tower.newton_calc"><code class="docutils literal notranslate"><span class="pre">Power_tower.newton_calc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Collatz"><code class="docutils literal notranslate"><span class="pre">Collatz</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Collatz.__init__"><code class="docutils literal notranslate"><span class="pre">Collatz.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/standard_models.html#fractalshades.models.Collatz.base_calc"><code class="docutils literal notranslate"><span class="pre">Collatz.base_calc()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/postproc.html">Postprocessing fields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Postproc_batch"><code class="docutils literal notranslate"><span class="pre">Postproc_batch</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Postproc_batch.__init__"><code class="docutils literal notranslate"><span class="pre">Postproc_batch.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Postproc_batch.add_postproc"><code class="docutils literal notranslate"><span class="pre">Postproc_batch.add_postproc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Postproc"><code class="docutils literal notranslate"><span class="pre">Postproc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Raw_pp"><code class="docutils literal notranslate"><span class="pre">Raw_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Raw_pp.__init__"><code class="docutils literal notranslate"><span class="pre">Raw_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Continuous_iter_pp"><code class="docutils literal notranslate"><span class="pre">Continuous_iter_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Continuous_iter_pp.__init__"><code class="docutils literal notranslate"><span class="pre">Continuous_iter_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Fieldlines_pp"><code class="docutils literal notranslate"><span class="pre">Fieldlines_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Fieldlines_pp.__init__"><code class="docutils literal notranslate"><span class="pre">Fieldlines_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.DEM_pp"><code class="docutils literal notranslate"><span class="pre">DEM_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.DEM_pp.__init__"><code class="docutils literal notranslate"><span class="pre">DEM_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.DEM_normal_pp"><code class="docutils literal notranslate"><span class="pre">DEM_normal_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.DEM_normal_pp.__init__"><code class="docutils literal notranslate"><span class="pre">DEM_normal_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Attr_pp"><code class="docutils literal notranslate"><span class="pre">Attr_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Attr_pp.__init__"><code class="docutils literal notranslate"><span class="pre">Attr_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Attr_normal_pp"><code class="docutils literal notranslate"><span class="pre">Attr_normal_pp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Attr_normal_pp.__init__"><code class="docutils literal notranslate"><span class="pre">Attr_normal_pp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Fractal_array"><code class="docutils literal notranslate"><span class="pre">Fractal_array</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/postproc.html#fractalshades.postproc.Fractal_array.__init__"><code class="docutils literal notranslate"><span class="pre">Fractal_array.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/layers.html">Image layers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Virtual_layer"><code class="docutils literal notranslate"><span class="pre">Virtual_layer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Virtual_layer.__init__"><code class="docutils literal notranslate"><span class="pre">Virtual_layer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Virtual_layer.set_mask"><code class="docutils literal notranslate"><span class="pre">Virtual_layer.set_mask()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Bool_layer"><code class="docutils literal notranslate"><span class="pre">Bool_layer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Bool_layer.__init__"><code class="docutils literal notranslate"><span class="pre">Bool_layer.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Color_layer"><code class="docutils literal notranslate"><span class="pre">Color_layer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Color_layer.__init__"><code class="docutils literal notranslate"><span class="pre">Color_layer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Color_layer.overlay"><code class="docutils literal notranslate"><span class="pre">Color_layer.overlay()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Color_layer.set_mask"><code class="docutils literal notranslate"><span class="pre">Color_layer.set_mask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Color_layer.set_twin_field"><code class="docutils literal notranslate"><span class="pre">Color_layer.set_twin_field()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Color_layer.shade"><code class="docutils literal notranslate"><span class="pre">Color_layer.shade()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Normal_map_layer"><code class="docutils literal notranslate"><span class="pre">Normal_map_layer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Normal_map_layer.__init__"><code class="docutils literal notranslate"><span class="pre">Normal_map_layer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Normal_map_layer.set_mask"><code class="docutils literal notranslate"><span class="pre">Normal_map_layer.set_mask()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Grey_layer"><code class="docutils literal notranslate"><span class="pre">Grey_layer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Grey_layer.__init__"><code class="docutils literal notranslate"><span class="pre">Grey_layer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Grey_layer.set_mask"><code class="docutils literal notranslate"><span class="pre">Grey_layer.set_mask()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Disp_layer"><code class="docutils literal notranslate"><span class="pre">Disp_layer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Disp_layer.__init__"><code class="docutils literal notranslate"><span class="pre">Disp_layer.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Disp_layer.set_mask"><code class="docutils literal notranslate"><span class="pre">Disp_layer.set_mask()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Blinn_lighting"><code class="docutils literal notranslate"><span class="pre">Blinn_lighting</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Blinn_lighting.__init__"><code class="docutils literal notranslate"><span class="pre">Blinn_lighting.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Blinn_lighting.add_light_source"><code class="docutils literal notranslate"><span class="pre">Blinn_lighting.add_light_source()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Overlay_mode"><code class="docutils literal notranslate"><span class="pre">Overlay_mode</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/layers.html#fractalshades.colors.layers.Overlay_mode.__init__"><code class="docutils literal notranslate"><span class="pre">Overlay_mode.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/colors.html">Color mapping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/colors.html#fractalshades.colors.Fractal_colormap"><code class="docutils literal notranslate"><span class="pre">Fractal_colormap</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/colors.html#fractalshades.colors.Fractal_colormap.__init__"><code class="docutils literal notranslate"><span class="pre">Fractal_colormap.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/GUI.html">GUI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guimodel.Fractal_GUI"><code class="docutils literal notranslate"><span class="pre">Fractal_GUI</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guimodel.Fractal_GUI.__init__"><code class="docutils literal notranslate"><span class="pre">Fractal_GUI.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guimodel.Fractal_GUI.connect_image"><code class="docutils literal notranslate"><span class="pre">Fractal_GUI.connect_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guimodel.Fractal_GUI.connect_mouse"><code class="docutils literal notranslate"><span class="pre">Fractal_GUI.connect_mouse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guimodel.Fractal_GUI.show"><code class="docutils literal notranslate"><span class="pre">Fractal_GUI.show()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guitemplates.std_zooming"><code class="docutils literal notranslate"><span class="pre">std_zooming</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/GUI.html#fractalshades.gui.guitemplates.std_zooming.__init__"><code class="docutils literal notranslate"><span class="pre">std_zooming.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/logging.html">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/logging.html#fractalshades.log.set_log_handlers"><code class="docutils literal notranslate"><span class="pre">set_log_handlers()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/db.html">Databases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Db"><code class="docutils literal notranslate"><span class="pre">Db</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Db.__init__"><code class="docutils literal notranslate"><span class="pre">Db.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Db.plot"><code class="docutils literal notranslate"><span class="pre">Db.plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Db.set_plotter"><code class="docutils literal notranslate"><span class="pre">Db.set_plotter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Frame"><code class="docutils literal notranslate"><span class="pre">Frame</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Frame.__init__"><code class="docutils literal notranslate"><span class="pre">Frame.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Exp_db"><code class="docutils literal notranslate"><span class="pre">Exp_db</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Exp_db.__init__"><code class="docutils literal notranslate"><span class="pre">Exp_db.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Exp_db.plot"><code class="docutils literal notranslate"><span class="pre">Exp_db.plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Exp_frame"><code class="docutils literal notranslate"><span class="pre">Exp_frame</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/db.html#fractalshades.db.Exp_frame.__init__"><code class="docutils literal notranslate"><span class="pre">Exp_frame.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../API/movie.html">Movie module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Movie"><code class="docutils literal notranslate"><span class="pre">Movie</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Movie.__init__"><code class="docutils literal notranslate"><span class="pre">Movie.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Movie.add_sequence"><code class="docutils literal notranslate"><span class="pre">Movie.add_sequence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Movie.export_frame"><code class="docutils literal notranslate"><span class="pre">Movie.export_frame()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Movie.make"><code class="docutils literal notranslate"><span class="pre">Movie.make()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Camera_pan"><code class="docutils literal notranslate"><span class="pre">Camera_pan</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Camera_pan.__init__"><code class="docutils literal notranslate"><span class="pre">Camera_pan.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Camera_zoom"><code class="docutils literal notranslate"><span class="pre">Camera_zoom</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Camera_zoom.__init__"><code class="docutils literal notranslate"><span class="pre">Camera_zoom.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Custom_sequence"><code class="docutils literal notranslate"><span class="pre">Custom_sequence</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../API/movie.html#fractalshades.movie.Custom_sequence.__init__"><code class="docutils literal notranslate"><span class="pre">Custom_sequence.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../making_movies.html">Making movies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../making_movies.html#example-pan-sequence">Example: pan sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../making_movies.html#example-zoom-sequence">Example: zoom sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../making_movies.html#example-custom-zoom-sequence">Example: “Custom” zoom sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../making_movies.html#example-using-distance-estimation-plots">Example: Using Distance Estimation plots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#rev-1-1">Rev 1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-1-1-0">Rev 1.1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-1-1-1">Rev 1.1.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#rev-1-0">Rev 1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-1-0-3">Rev 1.0.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-1-0-2">Rev 1.0.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-1-0-1">Rev 1.0.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-1-0-0">Rev 1.0.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#rev-0-5">Rev 0.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-5-6">Rev 0.5.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-5-5">Rev 0.5.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-5-4">Rev 0.5.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-5-3">Rev 0.5.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-5-2">Rev 0.5.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-5-0">Rev 0.5.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html#rev-0-4">Rev 0.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-4-3">Rev 0.4.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-4-2">Rev 0.4.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../changelog.html#rev-0-4-1">Rev 0.4.1</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../acknowledgment.html">Acknowledgment</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Fractalshades</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">fractalshades.gui.guitemplates</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

           <div itemprop="articleBody">
             
  <h1>Source code for fractalshades.gui.guitemplates</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Generic functions to be used for GUI exploration</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">textwrap</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mpmath</span>

<span class="kn">import</span> <span class="nn">fractalshades</span> <span class="k">as</span> <span class="nn">fs</span>
<span class="kn">import</span> <span class="nn">fractalshades.settings</span>
<span class="kn">import</span> <span class="nn">fractalshades.colors</span>
<span class="kn">import</span> <span class="nn">fractalshades.gui</span>
<span class="kn">import</span> <span class="nn">fractalshades.projection</span>

<span class="kn">from</span> <span class="nn">fractalshades.postproc</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Postproc_batch</span><span class="p">,</span>
    <span class="n">Continuous_iter_pp</span><span class="p">,</span>
    <span class="n">Fieldlines_pp</span><span class="p">,</span>
    <span class="n">DEM_pp</span><span class="p">,</span>
    <span class="n">DEM_normal_pp</span><span class="p">,</span>
    <span class="n">Raw_pp</span><span class="p">,</span>
    <span class="n">Attr_pp</span><span class="p">,</span>
    <span class="n">Attr_normal_pp</span><span class="p">,</span>
    <span class="n">Fractal_array</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">fractalshades.colors.layers</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Color_layer</span><span class="p">,</span>
    <span class="n">Bool_layer</span><span class="p">,</span>
    <span class="n">Normal_map_layer</span><span class="p">,</span>
    <span class="n">Grey_layer</span><span class="p">,</span>
    <span class="n">Disp_layer</span><span class="p">,</span>
    <span class="n">Virtual_layer</span><span class="p">,</span>
    <span class="n">Overlay_mode</span><span class="p">,</span>
    <span class="n">Blinn_lighting</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">fractalshades.utils</span> <span class="kn">import</span> <span class="n">Code_writer</span>


<span class="n">usage</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;# -*- coding: utf-8 -*-</span>
<span class="se">\&quot;\&quot;\&quot;</span><span class="s2">============================================================================</span>
<span class="s2">Auto-generated from fractalshades GUI, version </span><span class="si">{</span><span class="n">fs</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">Save to `&lt;file&gt;.py` and run as a python script:</span>
<span class="s2">    &gt; python &lt;file&gt;.py</span>
<span class="s2">============================================================================</span><span class="se">\&quot;\&quot;\&quot;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">usage_movie</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;# -*- coding: utf-8 -*-</span>
<span class="se">\&quot;\&quot;\&quot;</span><span class="s2">============================================================================</span>
<span class="s2">Auto-generated from fractalshades GUI, version </span><span class="si">{</span><span class="n">fs</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">Save to `&lt;file&gt;.py` and use its plotter in the movie making main script</span>
<span class="s2">    &gt; from &lt;file&gt; import get_plotter, plot_kwargs</span>
<span class="s2">============================================================================</span><span class="se">\&quot;\&quot;\&quot;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">script_header</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">import os</span>
<span class="s2">import typing</span>

<span class="s2">import numpy as np</span>
<span class="s2">import mpmath</span>
<span class="s2">from PyQt6 import QtGui</span>

<span class="s2">import fractalshades</span>
<span class="s2">import fractalshades as fs</span>
<span class="s2">import fractalshades.models as fsm</span>
<span class="s2">import fractalshades.gui as fsgui</span>
<span class="s2">import fractalshades.colors as fscolors</span>
<span class="s2">import fractalshades.projection</span>

<span class="s2">from fractalshades.postproc import (</span>
<span class="s2">    Postproc_batch,</span>
<span class="s2">    Continuous_iter_pp,</span>
<span class="s2">    DEM_normal_pp,</span>
<span class="s2">    Fieldlines_pp,</span>
<span class="s2">    DEM_pp,</span>
<span class="s2">    Raw_pp,</span>
<span class="s2">    Attr_pp,</span>
<span class="s2">    Attr_normal_pp,</span>
<span class="s2">    Fractal_array</span>
<span class="s2">)</span>
<span class="s2">from fractalshades.colors.layers import (</span>
<span class="s2">    Color_layer,</span>
<span class="s2">    Bool_layer,</span>
<span class="s2">    Normal_map_layer,</span>
<span class="s2">    Grey_layer,</span>
<span class="s2">    Disp_layer,</span>
<span class="s2">    Virtual_layer,</span>
<span class="s2">    Blinn_lighting,</span>
<span class="s2">    Overlay_mode</span>
<span class="s2">)</span>

<span class="s2"># Note: in batch mode, edit this line to change the base directory</span>
<span class="s2">plot_dir = os.path.splitext(os.path.realpath(__file__))[0]</span>

<span class="s2"># Note: in batch mode, edit this line to change the local projection</span>
<span class="s2"># you may also call `plot` with a modified `batch_params` parameters</span>
<span class="s2"># (the latter allows to call from another module)</span>
<span class="s2">projection = fs.projection.Cartesian()</span>

<span class="s2">batch_params = {</span>
<span class="s2">    &quot;projection&quot;: projection</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">script_footer</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">if __name__ == &quot;__main__&quot;:</span>
<span class="s2">    plot(**plot_kwargs, batch_params=batch_params)</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">script_title_sep</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Return a script comment line with the given title &quot;&quot;&quot;</span>
    <span class="n">sep_line</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">+</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">78</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">indent</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
        <span class="o">+</span> <span class="n">sep_line</span>
        <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">+</span> <span class="s2">&quot;# &quot;</span> <span class="o">+</span> <span class="n">title</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="o">+</span> <span class="n">sep_line</span>
    <span class="p">)</span>


<span class="k">def</span> <span class="nf">script</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">movie</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Writes source code for this script &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">movie</span><span class="p">:</span>
        <span class="n">full_header</span> <span class="o">=</span> <span class="n">usage_movie</span> <span class="o">+</span> <span class="n">script_header</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">full_header</span> <span class="o">=</span> <span class="n">usage</span> <span class="o">+</span> <span class="n">script_header</span>

    <span class="n">func_params_str</span> <span class="o">=</span> <span class="s2">&quot;plot_kwargs = &quot;</span> <span class="o">+</span> <span class="n">script_repr</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">source</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">0</span><span class="p">)</span>

    <span class="n">script</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">full_header</span>
        <span class="o">+</span> <span class="n">script_title_sep</span><span class="p">(</span><span class="s2">&quot;Parameters - user editable &quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">func_params_str</span>
        <span class="o">+</span> <span class="n">script_title_sep</span><span class="p">(</span><span class="s2">&quot;Function - /!\ do not modify this section&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="o">+</span> <span class="n">source</span>
        <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">movie</span> <span class="k">else</span> <span class="n">script_footer</span><span class="p">)</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">script</span>

<span class="k">def</span> <span class="nf">script_repr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Simple alias for Code_writer.var_tocode :</span>
<span class="sd">        string source code for an object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">indent</span><span class="p">)</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">Code_writer</span><span class="o">.</span><span class="n">var_tocode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">shift</span> <span class="o">+</span> <span class="n">code</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">shift</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">script_assignments</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; The parameter assignement part of the overall script:</span>
<span class="sd">        param1 = val1</span>
<span class="sd">        param2 = val2</span>
<span class="sd">        ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">indent</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[(</span><span class="n">k</span> <span class="o">+</span> <span class="s2">&quot; = &quot;</span> <span class="o">+</span> <span class="n">script_repr</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">shift</span> <span class="o">+</span> <span class="n">ret</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">shift</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>


<span class="k">def</span> <span class="nf">getsource</span><span class="p">(</span><span class="n">callable_</span><span class="p">,</span> <span class="n">movie</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Return the source code for this callable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">callable_</span><span class="p">,</span> <span class="s2">&quot;getsource&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">callable_</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">movie</span><span class="o">=</span><span class="n">movie</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Default: use inspect - use dedent to get consistent indentation level</span>
        <span class="k">if</span> <span class="n">movie</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Movie plotter-script not implemented for a GUI based on &quot;</span>
                <span class="s2">&quot;a standard function, construct the plotter script &quot;</span>
                <span class="s2">&quot;manually, or switch to a GUItemplate implementation.&quot;</span>
            <span class="p">)</span>
        <span class="c1"># Changes the function name to: `plot` (to get consistent call)</span>
        <span class="c1"># remove the default values - to avoid potential scoping issues</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">callable_</span><span class="p">))</span>
        <span class="n">sgn</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">callable_</span><span class="p">)</span>
        <span class="n">func_name</span><span class="p">,</span> <span class="n">func_params</span><span class="p">,</span> <span class="n">func_body</span> <span class="o">=</span> <span class="n">split_source</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">sgn</span><span class="p">)</span>
        <span class="n">str_params</span> <span class="o">=</span> <span class="n">get_str_params</span><span class="p">(</span><span class="n">func_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;def plot(&quot;</span> <span class="o">+</span> <span class="n">str_params</span> <span class="o">+</span> <span class="n">func_body</span>


<span class="k">def</span> <span class="nf">split_source</span><span class="p">(</span><span class="n">func_source</span><span class="p">,</span> <span class="n">func_signature</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func_source: string</span>
<span class="sd">        Function source code  to be parsed</span>
<span class="sd">    func_signature: Signature</span>
<span class="sd">        Signature of this function</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    (func_name, func_params, func_body)</span>

<span class="sd">    func_name: str</span>
<span class="sd">        The extracted string &quot;def func_name&quot;</span>

<span class="sd">    func_params: mapping</span>
<span class="sd">        param -&gt; param_txt where param_txt is the text</span>
<span class="sd">        describing the parameter in the function source code ie:</span>
<span class="sd">        &quot;param_x: type = xxx&quot; (as delimited by quotes)</span>

<span class="sd">    func_body: str</span>
<span class="sd">        the func body including the closing parameters parenthesis</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">paren_stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># stack for ()</span>
    <span class="n">bracket_stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># stack for []</span>
    <span class="n">braces_stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># stack for {}</span>
    
    <span class="n">name_ic</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># index of the first opening (</span>
    <span class="n">func_params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">body_ic</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># index of the matching )</span>

    <span class="n">param_beg</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># position of the , or the ( for the forst param</span>
    <span class="n">iparam</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># next_expected parameter</span>
    
    <span class="n">param_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">func_signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">n_params</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">param_names</span><span class="p">)</span>
    
    <span class="n">started</span> <span class="o">=</span> <span class="kc">False</span>
    
    <span class="k">for</span> <span class="n">ic</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">func_source</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">started</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;(&quot;</span><span class="p">:</span>
                <span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">paren_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ic</span><span class="p">)</span>
                <span class="n">name_ic</span> <span class="o">=</span> <span class="n">param_beg</span> <span class="o">=</span> <span class="n">ic</span>
            <span class="k">continue</span>
        <span class="c1"># Here we are in the parameters</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="s2">&quot;([</span><span class="si">{}</span><span class="s2">])&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;)&quot;</span><span class="p">:</span>
                <span class="n">paren_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;]&quot;</span><span class="p">:</span>
                <span class="n">bracket_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;]&quot;</span><span class="p">:</span>
                <span class="n">braces_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;(&quot;</span><span class="p">:</span>
                <span class="n">paren_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ic</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;[&quot;</span><span class="p">:</span>
                <span class="n">bracket_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ic</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;{&quot;</span><span class="p">:</span>
                <span class="n">braces_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ic</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">paren_stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">body_ic</span> <span class="o">=</span> <span class="n">ic</span>
                <span class="n">pname</span> <span class="o">=</span> <span class="n">param_names</span><span class="p">[</span><span class="n">iparam</span><span class="p">]</span>
                <span class="n">func_params</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">func_source</span><span class="p">[</span><span class="n">param_beg</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span> <span class="n">ic</span><span class="p">]</span>
                <span class="k">break</span> <span class="c1"># finished reading the parameter block</span>

        <span class="n">may_end_param</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">paren_stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">bracket_stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">braces_stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;,&quot;</span> <span class="ow">and</span> <span class="n">may_end_param</span><span class="p">:</span>
            <span class="c1"># This is the end of a param declaration</span>
            <span class="n">pname</span> <span class="o">=</span> <span class="n">param_names</span><span class="p">[</span><span class="n">iparam</span><span class="p">]</span>
            <span class="n">func_params</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">func_source</span><span class="p">[</span><span class="n">param_beg</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span> <span class="n">ic</span><span class="p">]</span>
            <span class="n">iparam</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">iparam</span> <span class="o">==</span> <span class="n">n_params</span><span class="p">:</span>
                <span class="c1"># because might have a last comma...</span>
                <span class="n">body_ic</span> <span class="o">=</span> <span class="n">ic</span>
                <span class="k">break</span>
            <span class="n">param_beg</span> <span class="o">=</span> <span class="n">ic</span>
        
    <span class="n">func_name</span> <span class="o">=</span> <span class="n">func_source</span><span class="p">[:</span><span class="n">name_ic</span><span class="p">]</span>
    <span class="n">func_body</span> <span class="o">=</span> <span class="n">func_source</span><span class="p">[</span><span class="n">body_ic</span><span class="p">:]</span>
    
    <span class="c1"># Drop everything from the body before the &quot;)&quot; - avoid a potential </span>
    <span class="c1"># &quot;,,&quot; if the original params source code ends with &quot;,&quot;</span>
    <span class="n">incipit</span> <span class="o">=</span> <span class="n">func_body</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
    <span class="n">func_body</span> <span class="o">=</span> <span class="n">func_body</span><span class="p">[</span><span class="n">incipit</span><span class="p">:]</span>

    <span class="k">return</span> <span class="n">func_name</span><span class="p">,</span> <span class="n">func_params</span><span class="p">,</span> <span class="n">func_body</span>

<span class="k">def</span> <span class="nf">get_str_params</span><span class="p">(</span><span class="n">func_params</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Remove the parameters default values from the signature &quot;&quot;&quot;</span>
    <span class="n">str_params</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">p_name</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">func_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">decl</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span> <span class="c1"># dec -&gt; &lt;pname: annotation&gt; / val -&gt; &lt;val&gt;</span>
        <span class="n">str_params</span> <span class="o">+=</span> <span class="n">decl</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span>
    <span class="k">return</span> <span class="n">str_params</span>

<span class="k">def</span> <span class="nf">signature</span><span class="p">(</span><span class="n">callable_</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Return the signature for this callable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">callable_</span><span class="p">,</span> <span class="s2">&quot;signature&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">callable_</span><span class="o">.</span><span class="n">signature</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">callable_</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">GUItemplate</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Base class for all classes implementing a GUI-template function &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fractal</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuned_defaults</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuned_annotations</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuned_annotations_str</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">partial_vals</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_default</span><span class="p">(</span><span class="s2">&quot;fractal&quot;</span><span class="p">,</span> <span class="n">fractal</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pname</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Change the default for param pname to tuned_annotations&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuned_defaults</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">set_annotation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pname</span><span class="p">,</span> <span class="n">tuned_annotations</span><span class="p">,</span> <span class="n">annot_str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Change the annotation for param pname to tuned_annotations</span>

<span class="sd">        Parameters:</span>
<span class="sd">        -----------</span>
<span class="sd">        pname: str</span>
<span class="sd">            The name of the parameter to be modified</span>
<span class="sd">        tuned_annotations: annotation</span>
<span class="sd">            The modified annotation for this parameter</span>
<span class="sd">            https://docs.python.org/3/glossary.html#term-annotation</span>
<span class="sd">        annot_str: str</span>
<span class="sd">            string for this annotation (used for source code generation)</span>
<span class="sd">            for instance if annotation is `float`, just use &quot;float&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuned_annotations</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">tuned_annotations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuned_annotations_str</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">annot_str</span>

    <span class="k">def</span> <span class="nf">make_partial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pname</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Remove the parameter from the signature (hence from the</span>
<span class="sd">        GUI-settable parameters) and impose its value to be val.</span>

<span class="sd">        Implementation note: Value of the partials to be considered by the</span>
<span class="sd">        caller (caller responsability) before actually calling the GUItemplate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">partial_vals</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">def</span> <span class="nf">signature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Signature used as a base for the GUI-display</span>

<span class="sd">        Returns:</span>
<span class="sd">        --------</span>
<span class="sd">        sgn, taking into account</span>
<span class="sd">            - params with modified default value (through set_default)</span>
<span class="sd">            - params with modified annotation (through set_annotation)</span>
<span class="sd">            - params suppressed as a result of partial</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base_sgn</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>
        <span class="n">my_defaults</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuned_defaults</span>
        <span class="n">my_annots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuned_annotations</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">partial_vals</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="n">sgn_params</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">p_name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">base_sgn</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            
            <span class="k">if</span> <span class="n">p_name</span> <span class="ow">in</span> <span class="n">to_del</span><span class="p">:</span>
                <span class="c1"># Dropping this parameter -&gt; skip to next item</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">p_name</span> <span class="ow">in</span> <span class="n">my_defaults</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">new_default</span> <span class="o">=</span> <span class="n">my_defaults</span><span class="p">[</span><span class="n">p_name</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_default</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">default</span>

            <span class="k">if</span> <span class="n">p_name</span> <span class="ow">in</span> <span class="n">my_annots</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">new_annot</span> <span class="o">=</span> <span class="n">my_annots</span><span class="p">[</span><span class="n">p_name</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_annot</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">annotation</span>

            <span class="n">new_param</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="n">default</span><span class="o">=</span><span class="n">new_default</span><span class="p">,</span>
                <span class="n">annotation</span><span class="o">=</span><span class="n">new_annot</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">sgn_params</span> <span class="o">+=</span> <span class="p">[</span><span class="n">new_param</span><span class="p">]</span>

        <span class="n">sgn</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">Signature</span><span class="p">(</span>
                <span class="n">parameters</span><span class="o">=</span><span class="n">sgn_params</span><span class="p">,</span>
                <span class="n">return_annotation</span><span class="o">=</span><span class="n">base_sgn</span><span class="o">.</span><span class="n">return_annotation</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">sgn</span>

    <span class="k">def</span> <span class="nf">getsource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">movie</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns the source code defining the function</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base_source</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">))</span>
        <span class="n">func_name</span><span class="p">,</span> <span class="n">func_params</span><span class="p">,</span> <span class="n">func_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">split_source</span><span class="p">(</span><span class="n">base_source</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">movie</span><span class="p">:</span>
            <span class="n">look_for</span><span class="p">,</span> <span class="n">replace_by</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">movie_source_modifiers</span><span class="p">()</span>
            <span class="n">cut_index</span> <span class="o">=</span> <span class="n">func_body</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">look_for</span><span class="p">)</span>
            <span class="n">func_body</span> <span class="o">=</span> <span class="n">func_body</span><span class="p">[:</span><span class="n">cut_index</span><span class="p">]</span> <span class="o">+</span> <span class="n">replace_by</span>

        <span class="n">my_defaults</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuned_defaults</span>
        <span class="n">my_annots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuned_annotations_str</span>
        <span class="n">my_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">partial_vals</span> 
        
        <span class="c1"># func name: changed from __call__ to &quot;plot&quot; or &quot;get_plotter&quot;</span>
        <span class="n">func_name</span> <span class="o">=</span> <span class="s2">&quot;def get_plotter(&quot;</span> <span class="k">if</span> <span class="n">movie</span> <span class="k">else</span> <span class="s2">&quot;def plot(&quot;</span>

        <span class="c1"># func parameters:</span>
        <span class="n">str_params</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">p_name</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">func_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">p_name</span> <span class="o">==</span> <span class="s2">&quot;self&quot;</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># print(&quot;** v&lt;&quot;, v, &quot;&gt;&quot;)</span>
            <span class="n">decl</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># dec -&gt; &lt;pname: annotation&gt; / val -&gt; &lt;val&gt;</span>

            <span class="k">if</span> <span class="n">p_name</span> <span class="ow">in</span> <span class="n">my_defaults</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">val</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">Code_writer</span><span class="o">.</span><span class="n">var_tocode</span><span class="p">(</span>
                        <span class="n">my_defaults</span><span class="p">[</span><span class="n">p_name</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">p_name</span> <span class="ow">in</span> <span class="n">my_vals</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">val</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">Code_writer</span><span class="o">.</span><span class="n">var_tocode</span><span class="p">(</span>
                        <span class="n">my_vals</span><span class="p">[</span><span class="n">p_name</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">p_name</span> <span class="ow">in</span> <span class="n">my_annots</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">decl</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &quot;</span> <span class="o">+</span> <span class="n">p_name</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span>  <span class="n">my_annots</span><span class="p">[</span><span class="n">p_name</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>

            <span class="n">v</span> <span class="o">=</span> <span class="n">decl</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="n">val</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span>
            <span class="n">str_params</span> <span class="o">+=</span> <span class="n">v</span>

        <span class="c1"># Remove final &quot;,&quot;</span>
        <span class="n">str_params</span> <span class="o">=</span> <span class="n">str_params</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Remove final &quot;\n&quot; if applicable (due to delimitation of last item)</span>
        <span class="c1"># Note: https://docs.python.org/2/library/stdtypes.html#str.splitlines</span>
        <span class="n">last_char</span> <span class="o">=</span> <span class="n">str_params</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">last_char</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">str_params</span> <span class="o">=</span> <span class="n">str_params</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Adds additional &quot;batch&quot; parameters:</span>
        <span class="n">str_params</span> <span class="o">+=</span> <span class="s2">&quot;,</span><span class="se">\n</span><span class="s2">    batch_params=batch_params</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">func_name</span> <span class="o">+</span> <span class="n">str_params</span> <span class="o">+</span> <span class="n">func_body</span>


    <span class="k">def</span> <span class="nf">split_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        source: string</span>
<span class="sd">            Function source code  to be parsed</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        (func_name, func_params, func_body)</span>

<span class="sd">        func_name: str</span>
<span class="sd">            The extracted string &quot;def func_name&quot;</span>

<span class="sd">        func_params: mapping</span>
<span class="sd">            param -&gt; param_txt where param_txt is the text</span>
<span class="sd">            describing the parameter in the function source code ie:</span>
<span class="sd">            &quot;param_x: type = xxx&quot; (as delimited by quotes)</span>

<span class="sd">        func_body: str</span>
<span class="sd">            the func body including the closing parameters parenthesis</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base_sgn</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">split_source</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">base_sgn</span><span class="p">)</span>

<span class="c1">#==============================================================================</span>

<span class="c1"># A list of non Gui-editable parameters, which we want to be able to pass</span>
<span class="c1"># as parameters in batch mode</span>
<span class="n">batch_params</span> <span class="o">=</span> <span class="p">{}</span>

<div class="viewcode-block" id="std_zooming">
<a class="viewcode-back" href="../../../API/GUI.html#fractalshades.gui.guitemplates.std_zooming">[docs]</a>
<span class="k">class</span> <span class="nc">std_zooming</span><span class="p">(</span><span class="n">GUItemplate</span><span class="p">):</span>
    
<div class="viewcode-block" id="std_zooming.__init__">
<a class="viewcode-back" href="../../../API/GUI.html#fractalshades.gui.guitemplates.std_zooming.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fractal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A generic zooming function to explore standard or perturbation Fractals, </span>
<span class="sd">intended for use with a GUI `fs.gui.guimodel.Fractal_GUI`</span>

<span class="sd">Compatible with :</span>

<span class="sd">    - holomorphic or non-holomorphic (Burning-ship &amp; al) variants</span>
<span class="sd">    - optional fieldlines</span>
<span class="sd">    - optional shading</span>
<span class="sd">    - optional interior plots based on cycle attractivity &amp; order</span>
<span class="sd">    - optional deepzoom implementation</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>
<span class="sd">fractal: `fs.Fractal`</span>
<span class="sd">    The fractal object to explore</span>

<span class="sd">Notes</span>
<span class="sd">----- </span>

<span class="sd">.. note::</span>
<span class="sd">    </span>
<span class="sd">    A typical use case is show below (see also the interactive examples from</span>
<span class="sd">    the :doc:`../../examples/index/` section):</span>

<span class="sd">    ::</span>

<span class="sd">        fractal = fsm.Perturbation_mandelbrot(plot_dir)</span>
<span class="sd">        zooming = fs.gui.guitemplates.std_zooming(fractal)</span>
<span class="sd">        gui = fs.gui.guimodel.Fractal_GUI(zooming)</span>
<span class="sd">        gui.show()</span>

<span class="sd">&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fractal</span><span class="p">)</span>

        <span class="n">badges</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;holomorphic&quot;</span><span class="p">,</span> <span class="s2">&quot;implements_dzndc&quot;</span><span class="p">,</span> <span class="s2">&quot;implements_fieldlines&quot;</span><span class="p">,</span>
            <span class="s2">&quot;implements_newton&quot;</span><span class="p">,</span> <span class="s2">&quot;implements_Milnor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;implements_interior_detection&quot;</span><span class="p">,</span> <span class="s2">&quot;implements_deepzoom&quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">badges</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">fractal</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connect_image_params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;image_param&quot;</span><span class="p">:</span> <span class="s2">&quot;calc_name&quot;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_deepzoom</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connect_mouse_params</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="s2">&quot;dx&quot;</span><span class="p">,</span>
                <span class="s2">&quot;xy_ratio&quot;</span><span class="p">:</span> <span class="s2">&quot;xy_ratio&quot;</span><span class="p">,</span> <span class="s2">&quot;dps&quot;</span><span class="p">:</span> <span class="s2">&quot;dps&quot;</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connect_mouse_params</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="s2">&quot;dx&quot;</span><span class="p">,</span>
                <span class="s2">&quot;xy_ratio&quot;</span><span class="p">:</span> <span class="s2">&quot;xy_ratio&quot;</span><span class="p">,</span> <span class="s2">&quot;dps&quot;</span><span class="p">:</span> <span class="kc">None</span>
            <span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">holomorphic</span><span class="p">):</span>
            <span class="c1"># Connects also the zooming skew parameters</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connect_mouse_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                <span class="s2">&quot;has_skew&quot;</span><span class="p">:</span> <span class="s2">&quot;has_skew&quot;</span><span class="p">,</span>
                <span class="s2">&quot;skew_00&quot;</span><span class="p">:</span> <span class="s2">&quot;skew_00&quot;</span><span class="p">,</span>
                <span class="s2">&quot;skew_01&quot;</span><span class="p">:</span> <span class="s2">&quot;skew_01&quot;</span><span class="p">,</span>
                <span class="s2">&quot;skew_10&quot;</span><span class="p">:</span> <span class="s2">&quot;skew_10&quot;</span><span class="p">,</span>
                <span class="s2">&quot;skew_11&quot;</span><span class="p">:</span> <span class="s2">&quot;skew_11&quot;</span>
            <span class="p">})</span>

        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implements_newton</span><span class="p">):</span>
            <span class="c1"># Delete all parameters associated with Newton</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;compute_newton&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;_3&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;max_order&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;max_newton&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;eps_newton_cv&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;_7&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;int_layer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;colormap_int&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;cmap_func_int&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;zmin_int&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;zmax_int&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;lighting_int&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">holomorphic</span><span class="p">:</span>
            <span class="c1"># Delete all parameters associated with skew transform</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;_1b&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;has_skew&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;skew_00&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;skew_01&quot;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;skew_10&quot;</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;skew_11&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_dzndc</span> <span class="o">!=</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;calc_dzndc&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implements_fieldlines</span><span class="p">):</span>
            <span class="c1"># Delete all parameters associated with fieldlines</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;_6&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;has_fieldlines&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;fieldlines_func&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;fieldlines_kind&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;fieldlines_zmin&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;fieldlines_zmax&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;backshift&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;n_iter&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;swirl&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;damping_ratio&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;twin_intensity&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_Milnor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span>
                <span class="s2">&quot;shading_kind&quot;</span><span class="p">,</span>
                <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">,</span> <span class="s2">&quot;Milnor&quot;</span><span class="p">],</span>
                <span class="s1">&#39;typing.Literal[&quot;potential&quot;, &quot;Milnor&quot;]&#39;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_interior_detection</span> <span class="o">==</span> <span class="s2">&quot;no&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;interior_detect&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;epsilon_stationnary&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_interior_detection</span> <span class="o">==</span> <span class="s2">&quot;always&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;interior_detect&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_interior_detection</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Unexpected value for GUI interior_detection:&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">implements_interior_detection</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implements_deepzoom</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">mpmath</span><span class="o">.</span><span class="n">mpf</span><span class="p">,</span> <span class="s2">&quot;mpmath.mpf&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">mpmath</span><span class="o">.</span><span class="n">mpf</span><span class="p">,</span> <span class="s2">&quot;mpmath.mpf&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span><span class="s2">&quot;dx&quot;</span><span class="p">,</span> <span class="n">mpmath</span><span class="o">.</span><span class="n">mpf</span><span class="p">,</span> <span class="s2">&quot;mpmath.mpf&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_default</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_default</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_default</span><span class="p">(</span><span class="s2">&quot;dx&quot;</span><span class="p">,</span> <span class="s2">&quot;10.0&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_partial</span><span class="p">(</span><span class="s2">&quot;dps&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>



    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fractal</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">Fractal</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">calc_name</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s2">&quot;std_zooming_calc&quot;</span><span class="p">,</span>

        <span class="n">_1</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;Zoom parameters&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">dx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">,</span>
        <span class="n">dps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
        <span class="n">xy_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">theta_deg</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">nx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span>

        <span class="n">_1b</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Skew parameters /!\ Re-run when modified!&quot;</span>
        <span class="p">),</span>
        <span class="n">has_skew</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">skew_00</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span>
        <span class="n">skew_01</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
        <span class="n">skew_10</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
        <span class="n">skew_11</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span>

        <span class="n">_2</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;Calculation parameters&quot;</span><span class="p">,</span>
        <span class="n">max_iter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">,</span>
        <span class="n">M_divergence</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1000.</span><span class="p">,</span>
        <span class="n">interior_detect</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">epsilon_stationnary</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
        <span class="n">calc_dzndc</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>

        <span class="n">_3</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span> <span class="o">=</span> <span class="s2">&quot;Newton parameters&quot;</span><span class="p">,</span>
        <span class="n">compute_newton</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">max_order</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1500</span><span class="p">,</span>
        <span class="n">max_newton</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">eps_newton_cv</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span><span class="mf">1.e-8</span><span class="p">,</span>

        <span class="n">_4</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;Plotting parameters: base field&quot;</span><span class="p">,</span>
        <span class="n">base_layer</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span>
                 <span class="s2">&quot;continuous_iter&quot;</span><span class="p">,</span>
                 <span class="s2">&quot;distance_estimation&quot;</span>
        <span class="p">]</span><span class="o">=</span><span class="s2">&quot;continuous_iter&quot;</span><span class="p">,</span>

        <span class="n">colormap</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Fractal_colormap</span><span class="o">=</span><span class="p">(</span>
                <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">cmap_register</span><span class="p">[</span><span class="s2">&quot;classic&quot;</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">cmap_func</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">numpy_utils</span><span class="o">.</span><span class="n">Numpy_expr</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">fs</span><span class="o">.</span><span class="n">numpy_utils</span><span class="o">.</span><span class="n">Numpy_expr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;np.log(x)&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">zmin</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">zmax</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">5.0</span><span class="p">,</span>
        <span class="n">zshift</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
        <span class="n">mask_color</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>

        <span class="n">_7</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;Plotting parameters: Newton field&quot;</span><span class="p">,</span>
        <span class="n">int_layer</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span>
            <span class="s2">&quot;attractivity&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">,</span> <span class="s2">&quot;attr / order&quot;</span>
        <span class="p">]</span><span class="o">=</span><span class="s2">&quot;attractivity&quot;</span><span class="p">,</span>
        <span class="n">colormap_int</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Fractal_colormap</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Fractal_colormap</span><span class="p">(</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="p">[</span><span class="mf">1.</span>        <span class="p">,</span> <span class="mf">1.</span>        <span class="p">,</span> <span class="mf">1.</span>        <span class="p">],</span>
                    <span class="p">[</span><span class="mf">0.16862746</span><span class="p">,</span> <span class="mf">0.16862746</span><span class="p">,</span> <span class="mf">0.16862746</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">]</span>
                <span class="p">],</span>
                <span class="n">kinds</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Lch&#39;</span><span class="p">,</span> <span class="s1">&#39;Lch&#39;</span><span class="p">],</span>
                <span class="n">grad_npts</span><span class="o">=</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
                <span class="n">grad_funcs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
                <span class="n">extent</span><span class="o">=</span><span class="s1">&#39;mirror&#39;</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="n">cmap_func_int</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">numpy_utils</span><span class="o">.</span><span class="n">Numpy_expr</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">fs</span><span class="o">.</span><span class="n">numpy_utils</span><span class="o">.</span><span class="n">Numpy_expr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">zmin_int</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">zmax_int</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>

        <span class="n">_5</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span> <span class="o">=</span> <span class="s2">&quot;Plotting parameters: shading&quot;</span><span class="p">,</span>
        <span class="n">has_shading</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">shading_kind</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;potential&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;potential&quot;</span><span class="p">,</span> 
        <span class="n">lighting</span><span class="p">:</span> <span class="n">Blinn_lighting</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">lighting_register</span><span class="p">[</span><span class="s2">&quot;glossy&quot;</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">lighting_int</span><span class="p">:</span> <span class="n">Blinn_lighting</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">fs</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">lighting_register</span><span class="p">[</span><span class="s2">&quot;glossy&quot;</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">max_slope</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">60.</span><span class="p">,</span>

        <span class="n">_6</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span> <span class="o">=</span> <span class="s2">&quot;Plotting parameters: field lines&quot;</span><span class="p">,</span>
        <span class="n">has_fieldlines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">fieldlines_func</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">numpy_utils</span><span class="o">.</span><span class="n">Numpy_expr</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">fs</span><span class="o">.</span><span class="n">numpy_utils</span><span class="o">.</span><span class="n">Numpy_expr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">fieldlines_kind</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;overlay&quot;</span><span class="p">,</span> <span class="s2">&quot;twin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;overlay&quot;</span><span class="p">,</span>
        <span class="n">fieldlines_zmin</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
        <span class="n">fieldlines_zmax</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">backshift</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> 
        <span class="n">n_iter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
        <span class="n">swirl</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
        <span class="n">damping_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span>
        <span class="n">twin_intensity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>

    
        <span class="n">_8</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;High-quality rendering options&quot;</span><span class="p">,</span>
        <span class="n">final_render</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">supersampling</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">supersampling_type</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span><span class="p">,</span>
        <span class="n">jitter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">recovery_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        
        <span class="n">_9</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;Extra outputs&quot;</span><span class="p">,</span>
        <span class="n">output_masks</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">output_normals</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">output_heightmaps</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">hmap_mask</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
        <span class="n">int_hmap_mask</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
    
        <span class="n">_10</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">collapsible_separator</span><span class="o">=</span><span class="s2">&quot;General settings&quot;</span><span class="p">,</span>
        <span class="n">log_verbosity</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">fs</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">verbosity_enum</span>
                                      <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;debug @ console + log&quot;</span><span class="p">,</span>
        <span class="n">enable_multithreading</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">inspect_calc</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">no_newton</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">postproc_dtype</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;float32&quot;</span><span class="p">,</span> <span class="s2">&quot;float64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;float32&quot;</span>
    <span class="p">):</span>

        <span class="n">fs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">log_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fractal</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">)</span>
        <span class="n">fs</span><span class="o">.</span><span class="n">set_log_handlers</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="n">log_verbosity</span><span class="p">)</span>
        <span class="n">fs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">enable_multithreading</span> <span class="o">=</span> <span class="n">enable_multithreading</span>
        <span class="n">fs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">inspect_calc</span> <span class="o">=</span> <span class="n">inspect_calc</span>
        <span class="n">fs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">no_newton</span> <span class="o">=</span> <span class="n">no_newton</span>
        <span class="n">fs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">postproc_dtype</span> <span class="o">=</span> <span class="n">postproc_dtype</span>


        <span class="n">zoom_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span>
            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="n">dx</span><span class="p">,</span>
            <span class="s2">&quot;nx&quot;</span><span class="p">:</span> <span class="n">nx</span><span class="p">,</span>
            <span class="s2">&quot;xy_ratio&quot;</span><span class="p">:</span> <span class="n">xy_ratio</span><span class="p">,</span>
            <span class="s2">&quot;theta_deg&quot;</span><span class="p">:</span> <span class="n">theta_deg</span><span class="p">,</span>
            <span class="s2">&quot;has_skew&quot;</span><span class="p">:</span> <span class="n">has_skew</span><span class="p">,</span>
            <span class="s2">&quot;skew_00&quot;</span><span class="p">:</span> <span class="n">skew_00</span><span class="p">,</span>
            <span class="s2">&quot;skew_01&quot;</span><span class="p">:</span> <span class="n">skew_01</span><span class="p">,</span>
            <span class="s2">&quot;skew_10&quot;</span><span class="p">:</span> <span class="n">skew_10</span><span class="p">,</span>
            <span class="s2">&quot;skew_11&quot;</span><span class="p">:</span> <span class="n">skew_11</span><span class="p">,</span>
            <span class="s2">&quot;projection&quot;</span><span class="p">:</span> <span class="n">batch_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s2">&quot;projection&quot;</span><span class="p">,</span> <span class="n">fs</span><span class="o">.</span><span class="n">projection</span><span class="o">.</span><span class="n">Cartesian</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">fractal</span><span class="o">.</span><span class="n">implements_deepzoom</span><span class="p">:</span>
            <span class="n">zoom_kwargs</span><span class="p">[</span><span class="s2">&quot;precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dps</span>
        <span class="n">fractal</span><span class="o">.</span><span class="n">zoom</span><span class="p">(</span><span class="o">**</span><span class="n">zoom_kwargs</span><span class="p">)</span>


        <span class="n">calc_std_div_kw</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;calc_name&quot;</span><span class="p">:</span> <span class="n">calc_name</span><span class="p">,</span>
            <span class="s2">&quot;subset&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;max_iter&quot;</span><span class="p">:</span> <span class="n">max_iter</span><span class="p">,</span>
            <span class="s2">&quot;M_divergence&quot;</span><span class="p">:</span> <span class="n">M_divergence</span><span class="p">,</span>
        <span class="p">}</span>


        <span class="k">if</span> <span class="n">fractal</span><span class="o">.</span><span class="n">implements_dzndc</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;calc_dzndc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">calc_dzndc</span>

        <span class="k">if</span> <span class="n">shading_kind</span> <span class="o">==</span> <span class="s2">&quot;Milnor&quot;</span><span class="p">:</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;calc_d2zndc2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">has_fieldlines</span><span class="p">:</span>
            <span class="n">calc_orbit</span> <span class="o">=</span> <span class="p">(</span><span class="n">backshift</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;calc_orbit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">calc_orbit</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;backshift&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">backshift</span>

        <span class="k">if</span> <span class="n">fractal</span><span class="o">.</span><span class="n">implements_interior_detection</span> <span class="o">==</span> <span class="s2">&quot;always&quot;</span><span class="p">:</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;epsilon_stationnary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">epsilon_stationnary</span>
        <span class="k">elif</span> <span class="n">fractal</span><span class="o">.</span><span class="n">implements_interior_detection</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;interior_detect&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">interior_detect</span>
            <span class="n">calc_std_div_kw</span><span class="p">[</span><span class="s2">&quot;epsilon_stationnary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">epsilon_stationnary</span>

        <span class="n">fractal</span><span class="o">.</span><span class="n">calc_std_div</span><span class="p">(</span><span class="o">**</span><span class="n">calc_std_div_kw</span><span class="p">)</span>


        <span class="c1"># Run the calculation for the interior points - if wanted</span>
        <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
            <span class="n">interior</span> <span class="o">=</span> <span class="n">Fractal_array</span><span class="p">(</span>
                    <span class="n">fractal</span><span class="p">,</span> <span class="n">calc_name</span><span class="p">,</span> <span class="s2">&quot;stop_reason&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span> <span class="s2">&quot;x != 1&quot;</span>
            <span class="p">)</span>
            <span class="n">fractal</span><span class="o">.</span><span class="n">newton_calc</span><span class="p">(</span>
                <span class="n">calc_name</span><span class="o">=</span><span class="s2">&quot;interior&quot;</span><span class="p">,</span>
                <span class="n">subset</span><span class="o">=</span><span class="n">interior</span><span class="p">,</span>
                <span class="n">known_orders</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">max_order</span><span class="o">=</span><span class="n">max_order</span><span class="p">,</span>
                <span class="n">max_newton</span><span class="o">=</span><span class="n">max_newton</span><span class="p">,</span>
                <span class="n">eps_newton_cv</span><span class="o">=</span><span class="n">eps_newton_cv</span><span class="p">,</span>
            <span class="p">)</span>


        <span class="n">pp</span> <span class="o">=</span> <span class="n">Postproc_batch</span><span class="p">(</span><span class="n">fractal</span><span class="p">,</span> <span class="n">calc_name</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">base_layer</span> <span class="o">==</span> <span class="s2">&quot;continuous_iter&quot;</span><span class="p">:</span>
            <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="n">base_layer</span><span class="p">,</span> <span class="n">Continuous_iter_pp</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
                <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;base_hmap&quot;</span><span class="p">,</span> <span class="n">Continuous_iter_pp</span><span class="p">())</span>
    
        <span class="k">elif</span> <span class="n">base_layer</span> <span class="o">==</span> <span class="s2">&quot;distance_estimation&quot;</span><span class="p">:</span>
            <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;continuous_iter&quot;</span><span class="p">,</span> <span class="n">Continuous_iter_pp</span><span class="p">())</span>
            <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="n">base_layer</span><span class="p">,</span> <span class="n">DEM_pp</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
                <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;base_hmap&quot;</span><span class="p">,</span> <span class="n">DEM_pp</span><span class="p">())</span>
    
        <span class="k">if</span> <span class="n">has_fieldlines</span><span class="p">:</span>
            <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span>
                <span class="s2">&quot;fieldlines&quot;</span><span class="p">,</span>
                <span class="n">Fieldlines_pp</span><span class="p">(</span><span class="n">n_iter</span><span class="p">,</span> <span class="n">swirl</span><span class="p">,</span> <span class="n">damping_ratio</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fieldlines_kind</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>

        <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;interior&quot;</span><span class="p">,</span> <span class="n">Raw_pp</span><span class="p">(</span><span class="s2">&quot;stop_reason&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="s2">&quot;x != 1&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
            <span class="n">pp_int</span> <span class="o">=</span> <span class="n">Postproc_batch</span><span class="p">(</span><span class="n">fractal</span><span class="p">,</span> <span class="s2">&quot;interior&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">int_layer</span> <span class="o">==</span> <span class="s2">&quot;attractivity&quot;</span><span class="p">:</span>
                <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="n">int_layer</span><span class="p">,</span> <span class="n">Attr_pp</span><span class="p">())</span>
                <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
                    <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;interior_hmap&quot;</span><span class="p">,</span> <span class="n">Attr_pp</span><span class="p">())</span>
            <span class="k">elif</span> <span class="n">int_layer</span> <span class="o">==</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span>
                <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="n">int_layer</span><span class="p">,</span> <span class="n">Raw_pp</span><span class="p">(</span><span class="s2">&quot;order&quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
                    <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;interior_hmap&quot;</span><span class="p">,</span> <span class="n">Raw_pp</span><span class="p">(</span><span class="s2">&quot;order&quot;</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">int_layer</span> <span class="o">==</span> <span class="s2">&quot;attr / order&quot;</span><span class="p">:</span>
                <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="n">int_layer</span><span class="p">,</span> <span class="n">Attr_pp</span><span class="p">(</span><span class="n">scale_by_order</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
                    <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span>
                        <span class="s2">&quot;interior_hmap&quot;</span><span class="p">,</span> <span class="n">Attr_pp</span><span class="p">(</span><span class="n">scale_by_order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="p">)</span>

            <span class="c1"># Set of unknown points</span>
            <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span>
                <span class="s2">&quot;unknown&quot;</span><span class="p">,</span> <span class="n">Raw_pp</span><span class="p">(</span><span class="s2">&quot;stop_reason&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="s2">&quot;x == 0&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">pps</span> <span class="o">=</span> <span class="p">[</span><span class="n">pp</span><span class="p">,</span> <span class="n">pp_int</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pps</span> <span class="o">=</span> <span class="n">pp</span>
    
        <span class="k">if</span> <span class="n">has_shading</span><span class="p">:</span>
            <span class="n">pp</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;DEM_map&quot;</span><span class="p">,</span> <span class="n">DEM_normal_pp</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="n">shading_kind</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
                <span class="n">pp_int</span><span class="o">.</span><span class="n">add_postproc</span><span class="p">(</span><span class="s2">&quot;attr_map&quot;</span><span class="p">,</span> <span class="n">Attr_normal_pp</span><span class="p">())</span>

        <span class="n">plotter</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">Fractal_plotter</span><span class="p">(</span>
            <span class="n">pps</span><span class="p">,</span>
            <span class="n">final_render</span><span class="o">=</span><span class="n">final_render</span><span class="p">,</span>
            <span class="n">supersampling</span><span class="o">=</span><span class="n">supersampling</span><span class="p">,</span>
            <span class="n">jitter</span><span class="o">=</span><span class="n">jitter</span><span class="p">,</span>
            <span class="n">recovery_mode</span><span class="o">=</span><span class="n">recovery_mode</span>
        <span class="p">)</span>

        <span class="c1"># The mask values &amp; curves for heighmaps</span>
        <span class="n">r1</span> <span class="o">=</span>  <span class="nb">min</span><span class="p">(</span><span class="n">hmap_mask</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">r2</span> <span class="o">=</span>  <span class="nb">max</span><span class="p">(</span><span class="n">hmap_mask</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
        <span class="n">dr</span> <span class="o">=</span> <span class="n">r2</span> <span class="o">-</span> <span class="n">r1</span>
        <span class="n">hmap_curve</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span> <span class="o">-</span> <span class="n">r1</span><span class="p">)</span> <span class="o">/</span> <span class="n">dr</span> 

        <span class="n">r1</span> <span class="o">=</span>  <span class="nb">min</span><span class="p">(</span><span class="n">int_hmap_mask</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="n">r2</span> <span class="o">=</span>  <span class="nb">max</span><span class="p">(</span><span class="n">int_hmap_mask</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
        <span class="n">dr</span> <span class="o">=</span> <span class="n">r2</span> <span class="o">-</span> <span class="n">r1</span>
        <span class="n">int_hmap_curve</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span> <span class="o">-</span> <span class="n">r1</span><span class="p">)</span> <span class="o">/</span> <span class="n">dr</span> 


        <span class="c1"># The layers</span>
        <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Bool_layer</span><span class="p">(</span><span class="s2">&quot;interior&quot;</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output_masks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Bool_layer</span><span class="p">(</span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output_masks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">fieldlines_kind</span> <span class="o">==</span> <span class="s2">&quot;twin&quot;</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Virtual_layer</span><span class="p">(</span>
                    <span class="s2">&quot;fieldlines&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">fieldlines_func</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">))</span>
        <span class="k">elif</span> <span class="n">fieldlines_kind</span> <span class="o">==</span> <span class="s2">&quot;overlay&quot;</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Grey_layer</span><span class="p">(</span>
                    <span class="s2">&quot;fieldlines&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">fieldlines_func</span><span class="p">,</span>
                    <span class="n">probes_z</span><span class="o">=</span><span class="p">[</span><span class="n">fieldlines_zmin</span><span class="p">,</span> <span class="n">fieldlines_zmax</span><span class="p">],</span>
                    <span class="n">output</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">))</span>
    
        <span class="k">if</span> <span class="n">has_shading</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Normal_map_layer</span><span class="p">(</span>
                <span class="s2">&quot;DEM_map&quot;</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="n">max_slope</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output_normals</span>
            <span class="p">))</span>
            <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;DEM_map&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_mask</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;interior&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
                <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Normal_map_layer</span><span class="p">(</span>
                    <span class="s2">&quot;attr_map&quot;</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output_normals</span>
                <span class="p">))</span>

        <span class="k">if</span> <span class="n">base_layer</span> <span class="o">!=</span> <span class="s1">&#39;continuous_iter&#39;</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span>
                <span class="n">Virtual_layer</span><span class="p">(</span><span class="s2">&quot;continuous_iter&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Color_layer</span><span class="p">(</span>
                <span class="n">base_layer</span><span class="p">,</span>
                <span class="n">func</span><span class="o">=</span><span class="n">cmap_func</span><span class="p">,</span>
                <span class="n">colormap</span><span class="o">=</span><span class="n">colormap</span><span class="p">,</span>
                <span class="n">probes_z</span><span class="o">=</span><span class="p">[</span><span class="n">zmin</span> <span class="o">+</span> <span class="n">zshift</span><span class="p">,</span> <span class="n">zmax</span> <span class="o">+</span> <span class="n">zshift</span><span class="p">],</span>
                <span class="n">output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Disp_layer</span><span class="p">(</span>
                    <span class="s2">&quot;base_hmap&quot;</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">=</span><span class="n">cmap_func</span><span class="p">,</span>
                    <span class="n">curve</span><span class="o">=</span><span class="n">hmap_curve</span><span class="p">,</span>
                    <span class="n">probes_z</span><span class="o">=</span><span class="p">[</span><span class="n">zmin</span> <span class="o">+</span> <span class="n">zshift</span><span class="p">,</span> <span class="n">zmax</span> <span class="o">+</span> <span class="n">zshift</span><span class="p">],</span>
                    <span class="n">output</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">))</span>


        <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
            <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Color_layer</span><span class="p">(</span>
                <span class="n">int_layer</span><span class="p">,</span>
                <span class="n">func</span><span class="o">=</span><span class="n">cmap_func_int</span><span class="p">,</span>
                <span class="n">colormap</span><span class="o">=</span><span class="n">colormap_int</span><span class="p">,</span>
                <span class="n">probes_z</span><span class="o">=</span><span class="p">[</span><span class="n">zmin_int</span><span class="p">,</span> <span class="n">zmax_int</span><span class="p">],</span>
                <span class="n">output</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
            <span class="n">plotter</span><span class="p">[</span><span class="n">int_layer</span><span class="p">]</span><span class="o">.</span><span class="n">set_mask</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;unknown&quot;</span><span class="p">],</span>
                                        <span class="n">mask_color</span><span class="o">=</span><span class="n">mask_color</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
                <span class="n">plotter</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">Disp_layer</span><span class="p">(</span>
                        <span class="s2">&quot;interior_hmap&quot;</span><span class="p">,</span>
                        <span class="n">func</span><span class="o">=</span><span class="n">cmap_func</span><span class="p">,</span>
                        <span class="n">curve</span><span class="o">=</span><span class="n">int_hmap_curve</span><span class="p">,</span>
                        <span class="n">probes_z</span><span class="o">=</span><span class="p">[</span><span class="n">zmin_int</span><span class="p">,</span> <span class="n">zmax_int</span><span class="p">],</span>
                        <span class="n">output</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">))</span>
                <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;interior_hmap&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_mask</span><span class="p">(</span>
                    <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;unknown&quot;</span><span class="p">],</span>
                    <span class="n">mask_color</span><span class="o">=</span><span class="p">(</span><span class="n">int_hmap_mask</span><span class="p">,)</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">fieldlines_kind</span> <span class="o">==</span> <span class="s2">&quot;twin&quot;</span><span class="p">:</span>
            <span class="n">plotter</span><span class="p">[</span><span class="n">base_layer</span><span class="p">]</span><span class="o">.</span><span class="n">set_twin_field</span><span class="p">(</span>
                    <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;fieldlines&quot;</span><span class="p">],</span> <span class="n">twin_intensity</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">fieldlines_kind</span> <span class="o">==</span> <span class="s2">&quot;overlay&quot;</span><span class="p">:</span>
            <span class="n">overlay_mode</span> <span class="o">=</span> <span class="n">Overlay_mode</span><span class="p">(</span><span class="s2">&quot;tint_or_shade&quot;</span><span class="p">,</span> <span class="n">pegtop</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="n">plotter</span><span class="p">[</span><span class="n">base_layer</span><span class="p">]</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;fieldlines&quot;</span><span class="p">],</span> <span class="n">overlay_mode</span><span class="p">)</span>
    
        <span class="k">if</span> <span class="n">has_shading</span><span class="p">:</span>
            <span class="n">plotter</span><span class="p">[</span><span class="n">base_layer</span><span class="p">]</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;DEM_map&quot;</span><span class="p">],</span> <span class="n">lighting</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
                <span class="n">plotter</span><span class="p">[</span><span class="n">int_layer</span><span class="p">]</span><span class="o">.</span><span class="n">shade</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;attr_map&quot;</span><span class="p">],</span> <span class="n">lighting_int</span><span class="p">)</span>
                <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;attr_map&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_mask</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;unknown&quot;</span><span class="p">],</span>
                                             <span class="n">mask_color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">compute_newton</span><span class="p">:</span>
            <span class="c1"># Overlay : alpha composite with &quot;interior&quot; layer ie, where it is not</span>
            <span class="c1"># masked, we take the value of the &quot;attr&quot; layer</span>
            <span class="n">overlay_mode</span> <span class="o">=</span> <span class="n">Overlay_mode</span><span class="p">(</span>
                    <span class="s2">&quot;alpha_composite&quot;</span><span class="p">,</span>
                    <span class="n">alpha_mask</span><span class="o">=</span><span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;interior&quot;</span><span class="p">],</span>
                    <span class="n">inverse_mask</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="n">plotter</span><span class="p">[</span><span class="n">base_layer</span><span class="p">]</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">plotter</span><span class="p">[</span><span class="n">int_layer</span><span class="p">],</span> <span class="n">overlay_mode</span><span class="o">=</span><span class="n">overlay_mode</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">plotter</span><span class="p">[</span><span class="n">base_layer</span><span class="p">]</span><span class="o">.</span><span class="n">set_mask</span><span class="p">(</span>
                <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;interior&quot;</span><span class="p">],</span> <span class="n">mask_color</span><span class="o">=</span><span class="n">mask_color</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">output_heightmaps</span><span class="p">:</span>
            <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;base_hmap&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_mask</span><span class="p">(</span>
                <span class="n">plotter</span><span class="p">[</span><span class="s2">&quot;interior&quot;</span><span class="p">],</span> <span class="n">mask_color</span><span class="o">=</span><span class="p">(</span><span class="n">hmap_mask</span><span class="p">,)</span>
            <span class="p">)</span>

        <span class="n">plotter</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

        <span class="c1"># Renaming output to match expected from the Fractal GUI</span>
        <span class="n">layer</span> <span class="o">=</span> <span class="n">plotter</span><span class="p">[</span><span class="n">base_layer</span><span class="p">]</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">postname</span><span class="p">)</span>
        <span class="n">src_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fractal</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">file_name</span> <span class="o">+</span> <span class="s2">&quot;.png&quot;</span><span class="p">)</span>
        <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fractal</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">calc_name</span> <span class="o">+</span> <span class="s2">&quot;.png&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dest_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">dest_path</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">dest_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">movie_source_modifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;  Return the mods to source code needed for a movie making instance</span>
<span class="sd">        -&gt; do not plot the image</span>
<span class="sd">        -&gt; instead, simply return the plotter + base image name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">look_for</span> <span class="o">=</span> <span class="s2">&quot;plotter.plot()&quot;</span>
        <span class="n">replace_by</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\n</span><span class="s2">    return plotter, plotter[base_layer].postname</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">look_for</span><span class="p">,</span> <span class="n">replace_by</span></div>

</pre></div>

           </div>
          </div>
<div class="ribbon">
  <a href="https://github.com/GBillotey/Fractalshades">Fork me on GitHub</a>
</div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Fractalshades development team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<style>
  .wy-nav-content { max-width: 1250px !important; }
</style>


</body>
</html>